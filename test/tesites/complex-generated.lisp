;; -*- mode: Lisp; Syntax: Common-Lisp; -*-
;;;
;;; Copyright (c) 2006 by the authors.
;;;
;;; See LICENCE for details.

(in-package :cl-perec-test)

;;;;;;;;;;;;;;;;;;;;
;;;; Generated tests

(DEFTEST TEST/TESITES/COMPLEX/GENERATED NIL "Test assertion failed:

The persistent value: #<VALUES-HAVING-VALIDITY {NIL, 96, 82, 17, NIL} {1006F31581}> and test value: #<VALUES-HAVING-VALIDITY {NIL, 96, 29, 82, 17, NIL} {1006F32521}> are different
in the slot TIME-DEPENDENT-SLOT of #<TESITES-COMPLEX-TEST :persistent #t 253771 {1006EFA941}>
with t 2008-02-19T15:26:52.274905Z and with validity range 1000-01-01T00:00:00Z -> 3000-01-01T00:00:00Z
with 104 history entries: "
         (BIND ((*HISTORY-ENTRIES* NIL) (*HISTORY-ENTRY-COUNTER* 0) (INSTANCE (WITH-TRANSACTION (WITH-DEFAULT-T (MAKE-INSTANCE 'TESITES-COMPLEX-TEST)))))
           (WITH-TRANSACTION
             (WITH-REVIVED-INSTANCE INSTANCE
               (WITH-T "1919-12-16T16:47:41Z"
                 (WITH-VALIDITY-RANGE "1915-04-11T04:57:41Z" "1943-08-14T14:58:11Z"
                   (SETF (SLOT-VALUE-AND-SLOT-VALUE* INSTANCE 'TEMPORAL-AND-TIME-DEPENDENT-SLOT) 10)))))
           (WITH-TRANSACTION
             (WITH-REVIVED-INSTANCE INSTANCE
               (WITH-T "1919-12-16T16:47:41Z"
                 (WITH-VALIDITY-RANGE "1915-04-11T04:57:41Z" "1943-08-14T14:58:11Z"
                   (SETF (SLOT-VALUE-AND-SLOT-VALUE* INSTANCE 'TIME-DEPENDENT-SLOT) 29)))))
           (WITH-TRANSACTION
             (WITH-REVIVED-INSTANCE INSTANCE
               (WITH-T "1907-11-05T13:45:42Z"
                 (WITH-VALIDITY-RANGE "1928-11-24T05:14:12Z" "1956-07-04T11:45:59Z"
                   (SETF (SLOT-VALUE-AND-SLOT-VALUE* INSTANCE 'TIME-DEPENDENT-SLOT) 66)))))
           (WITH-TRANSACTION
             (WITH-REVIVED-INSTANCE INSTANCE
               (WITH-T "2008-02-19T15:26:52.274905Z"
                 (WITH-VALIDITY-RANGE "1000-01-01T00:00:00Z" "3000-01-01T00:00:00Z"
                   (BIND
                       ((PERSISTENT-VALUE (SLOT-VALUE INSTANCE 'TIME-DEPENDENT-SLOT))
                        (TEST-VALUE (SLOT-VALUE* INSTANCE 'TIME-DEPENDENT-SLOT)))
                     (ASSERT-PERSISTENT-AND-TEST-VALUES INSTANCE 'TIME-DEPENDENT-SLOT PERSISTENT-VALUE
                                                        TEST-VALUE))))))))

(DEFTEST TEST/TESITES/COMPLEX/GENERATED NIL "Test assertion failed:

The persistent value: #<VALUES-HAVING-VALIDITY {NIL, 67, NIL, 6, NIL} {10075C2511}> and test value: #<VALUES-HAVING-VALIDITY {NIL, 67, 6, NIL, NIL} {10075C2E11}> are different
in the slot TIME-DEPENDENT-SLOT of #<TESITES-COMPLEX-TEST :persistent #t 254216 {10075837F1}>
with t 2008-02-19T17:32:58.699811Z and with validity range 1000-01-01T00:00:00Z -> 3000-01-01T00:00:00Z
with 8 history entries: "
         (BIND ((*HISTORY-ENTRIES* NIL) (*HISTORY-ENTRY-COUNTER* 0) (INSTANCE (WITH-TRANSACTION (WITH-DEFAULT-T (MAKE-INSTANCE 'TESITES-COMPLEX-TEST)))))
           (WITH-TRANSACTION
             (WITH-REVIVED-INSTANCE INSTANCE
               (WITH-T "1980-02-12T07:57:50Z"
                 (WITH-VALIDITY-RANGE "1920-12-19T03:02:15Z" "1960-02-10T04:03:08Z"
                   (SETF (SLOT-VALUE-AND-SLOT-VALUE* INSTANCE 'TIME-DEPENDENT-SLOT) 67)))
               (WITH-T "1902-08-03T23:47:50Z"
                 (WITH-VALIDITY-RANGE "2011-12-31T11:43:35Z" "2170-01-06T08:04:05Z"
                   (SETF (SLOT-VALUE-AND-SLOT-VALUE* INSTANCE 'TIME-DEPENDENT-SLOT) 51)))))
           (WITH-TRANSACTION
             (WITH-REVIVED-INSTANCE INSTANCE
               (WITH-T "2008-02-19T17:32:58.699811Z"
                 (WITH-VALIDITY-RANGE "1000-01-01T00:00:00Z" "3000-01-01T00:00:00Z"
                   (BIND
                       ((PERSISTENT-VALUE (setf p (SLOT-VALUE INSTANCE 'TIME-DEPENDENT-SLOT)))
                        (TEST-VALUE (setf l (SLOT-VALUE* INSTANCE 'TIME-DEPENDENT-SLOT))))
                     (ASSERT-PERSISTENT-AND-TEST-VALUES INSTANCE 'TIME-DEPENDENT-SLOT PERSISTENT-VALUE
                                                        TEST-VALUE))))))))

(DEFTEST TEST/TESITES/COMPLEX/GENERATED NIL "Test assertion failed:

The persistent value: #<VALUES-HAVING-VALIDITY {NIL, 95, 78, 53, NIL} {10076C1781}> and test value: #<VALUES-HAVING-VALIDITY {NIL, 95, 53, NIL} {10076C1D91}> are different
in the slot TIME-DEPENDENT-SLOT of #<TESITES-COMPLEX-TEST :persistent #t 254404 {1007393471}>
with t 2008-02-19T17:46:44.264928Z and with validity range 1000-01-01T00:00:00Z -> 3000-01-01T00:00:00Z
with 13 history entries: "
         (BIND ((*HISTORY-ENTRIES* NIL) (*HISTORY-ENTRY-COUNTER* 0) (INSTANCE (WITH-TRANSACTION (WITH-DEFAULT-T (MAKE-INSTANCE 'TESITES-COMPLEX-TEST)))))
           (WITH-TRANSACTION
             (WITH-REVIVED-INSTANCE INSTANCE
               (WITH-T "1902-05-04T04:03:32Z"
                 (WITH-VALIDITY-RANGE "1981-07-11T10:23:11Z" "2058-11-04T20:50:23Z"
                   (SETF (SLOT-VALUE-AND-SLOT-VALUE* INSTANCE 'TIME-DEPENDENT-SLOT) 53)))
               (WITH-T "1909-02-19T10:54:56Z"
                 (WITH-VALIDITY-RANGE "1923-05-21T02:22:57Z" "2041-01-22T21:41:04Z"
                   (SETF (SLOT-VALUE-AND-SLOT-VALUE* INSTANCE 'TEMPORAL-AND-TIME-DEPENDENT-SLOT) 5)))
               (WITH-T "1909-02-19T10:54:56Z"
                 (WITH-VALIDITY-RANGE "1923-05-21T02:22:57Z" "2041-01-22T21:41:04Z"
                   (SETF (SLOT-VALUE-AND-SLOT-VALUE* INSTANCE 'TIME-DEPENDENT-SLOT) 95)))))
           (WITH-TRANSACTION
             (WITH-REVIVED-INSTANCE INSTANCE
               (WITH-T "2008-02-19T17:46:44.264928Z"
                 (WITH-VALIDITY-RANGE "1000-01-01T00:00:00Z" "3000-01-01T00:00:00Z"
                   (BIND
                       ((PERSISTENT-VALUE (SLOT-VALUE INSTANCE 'TIME-DEPENDENT-SLOT))
                        (TEST-VALUE (SLOT-VALUE* INSTANCE 'TIME-DEPENDENT-SLOT)))
                     (ASSERT-PERSISTENT-AND-TEST-VALUES INSTANCE 'TIME-DEPENDENT-SLOT PERSISTENT-VALUE
                                                        TEST-VALUE))))))))